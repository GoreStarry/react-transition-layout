"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-spring");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function c(){}function l(){}l.resetWarningCache=c;var s,d,f=(function(e){e.exports=function(){function e(e,t,n,o,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:c};return n.PropTypes=n,n}()}(d={path:s,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&d.path)}},d.exports),d.exports);var p=!1;if("undefined"!=typeof window){var y={get passive(){p=!0}};window.addEventListener("testPassive",null,y),window.removeEventListener("testPassive",null,y)}var m="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),v=[],g=!1,h=-1,b=void 0,w=void 0,T=void 0,O=function(e){return v.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},E=function(e){var t=e||window.event;return!!O(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},S=function(){void 0!==T&&(document.body.style.paddingRight=T,T=void 0),void 0!==b&&(document.body.style.overflow=b,b=void 0)},P=function(){if(void 0!==w){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=w.position,document.body.style.top=w.top,document.body.style.left=w.left,window.scrollTo(t,e),w=void 0}},j=function(e,t){if(e){if(!v.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};v=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(v),[n]),m?window.requestAnimationFrame((function(){if(void 0===w){w={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,o=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout((function(){return window.requestAnimationFrame((function(){var e=o-window.innerHeight;e&&t>=o&&(document.body.style.top=-(t+e))}))}),300)}})):function(e){if(void 0===T){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);T=document.body.style.paddingRight,document.body.style.paddingRight=o+n+"px"}}void 0===b&&(b=document.body.style.overflow,document.body.style.overflow="hidden")}(t),m&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(h=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-h;!O(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?E(e):e.stopPropagation())}(t,e)},g||(document.addEventListener("touchmove",E,p?{passive:!1}:void 0),g=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")};var C="TransitionLayout-module_TransitionLayout__3nK1h";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".TransitionLayout-module_TransitionLayout__3nK1h {\n  display: inline-block;\n}");var I=function(n){var u=n.mode,c=n.useTransitionLayoutDivContainer,l=void 0===c||c,s=n.target,d=n.isTrigger,f=n.handleIsTransitionStart,y=n.handleIsTransitionOver,b=n.className,w=n.children,T=n.Component,O=e.useRef(),I=e.useRef(),x=e.useRef(u),_=e.useMemo((function(){return{x:0,y:0,scale:1,transformOrigin:"center center"}}),[]),R=a(t.useSpring((function(){return _}),[]),2),A=R[0],L=R[1];console.log(u),e.useEffect((function(){return x.current=u,function(){}}),[u]);var D=e.useMemo((function(){return T&&o.default.forwardRef(T)}),[T]);e.useEffect((function(){return"string"==typeof s?I.current=document.getElementById(s):I=s,function(){m&&(v.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),g&&(document.removeEventListener("touchmove",E,p?{passive:!1}:void 0),g=!1),h=-1),m?P():S(),v=[]}}),[s]);var B=e.useCallback((function(){var e=I.current.getBoundingClientRect(),t=e.width;e.height;var n=e.left,o=e.top,r=O.current.getBoundingClientRect(),i=r.width;return r.height,{x:n-r.left,y:o-r.top,scale:t/i}}),[]),k=e.useCallback((function(){j(),I.current.style.opacity="0",f&&f()}),[]),q=e.useCallback((function(){var e;e?(v=v.filter((function(t){return t.targetElement!==e})),m&&(e.ontouchstart=null,e.ontouchmove=null,g&&0===v.length&&(document.removeEventListener("touchmove",E,p?{passive:!1}:void 0),g=!1)),m?P():S()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."),I.current.style.opacity="1",y&&y()}),[y]);return e.useEffect((function(){if(d){console.log(x.current);var e=B(),t="go"===x.current?{from:_,to:e}:{from:e,to:_};t.from.transformOrigin="".concat(e.x<0?"left":"right"," ").concat(e.y<0?"top":"bottom"),L(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({reset:!0,onStart:k,onRest:q},t))}return function(){}}),[d,B]),l?o.default.createElement(t.a.div,{ref:O,className:"".concat(C," ").concat(b),style:A},w):D?o.default.createElement(D,{ref:O,className:b}):o.default.cloneElement(w,{ref:O,className:b})};I.propTypes={useTransitionLayoutDivContainer:f.bool,target:f.oneOfType([f.array,f.object]).isRequired,handleIsTransitionStart:f.func,handleIsTriggerDone:f.func},exports.TransitionLayout=I;
//# sourceMappingURL=index.js.map
