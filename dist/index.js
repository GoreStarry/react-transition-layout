"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-spring");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=n(e);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,r,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(i.push(o.value),!t||i.length!==t);a=!0);}catch(e){u=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(){}function s(){}s.resetWarningCache=l;var d,f,p=(function(e){e.exports=function(){function e(e,t,n,o,r,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:l};return n.PropTypes=n,n}()}(f={path:d,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&f.path)}},f.exports),f.exports);var y=!1;if("undefined"!=typeof window){var m={get passive(){y=!0}};window.addEventListener("testPassive",null,m),window.removeEventListener("testPassive",null,m)}var v="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),g=[],h=!1,b=-1,w=void 0,T=void 0,O=void 0,E=function(e){return g.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},S=function(e){var t=e||window.event;return!!E(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},P=function(){void 0!==O&&(document.body.style.paddingRight=O,O=void 0),void 0!==w&&(document.body.style.overflow=w,w=void 0)},j=function(){if(void 0!==T){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=T.position,document.body.style.top=T.top,document.body.style.left=T.left,window.scrollTo(t,e),T=void 0}},C=function(e,t){if(e){if(!g.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};g=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(g),[n]),v?window.requestAnimationFrame((function(){if(void 0===T){T={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,o=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout((function(){return window.requestAnimationFrame((function(){var e=o-window.innerHeight;e&&t>=o&&(document.body.style.top=-(t+e))}))}),300)}})):function(e){if(void 0===O){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var o=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);O=document.body.style.paddingRight,document.body.style.paddingRight=o+n+"px"}}void 0===w&&(w=document.body.style.overflow,document.body.style.overflow="hidden")}(t),v&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(b=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-b;!E(e.target)&&(t&&0===t.scrollTop&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?S(e):e.stopPropagation())}(t,e)},h||(document.addEventListener("touchmove",S,y?{passive:!1}:void 0),h=!0))}}else console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.")};var I="TransitionLayout-module_TransitionLayout__3nK1h";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".TransitionLayout-module_TransitionLayout__3nK1h {\n  display: inline-block;\n}");var _=function(n){var r=n.mode,a=n.useTransitionLayoutDivContainer,c=void 0===a||a,l=n.target,s=n.isTrigger,d=n.handleIsTransitionStart,f=n.handleIsTransitionOver,p=n.className,m=n.children,w=n.Component,T=n.reactSpringConfig,O=e.useRef(),E=e.useRef(),_=e.useRef(r),x=e.useMemo((function(){return{x:0,y:0,scale:1,transformOrigin:"left top",opacity:"go"===r?1:0}}),[r]),R=u(t.useSpring((function(){return x}),[]),2),A=R[0],L=R[1];e.useEffect((function(){return _.current=r,function(){}}),[r]);var B=e.useMemo((function(){return w&&o.default.forwardRef(w)}),[w]);e.useEffect((function(){return l&&("string"==typeof l?E.current=document.getElementById(l):E=l),function(){v&&(g.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),h&&(document.removeEventListener("touchmove",S,y?{passive:!1}:void 0),h=!1),b=-1),v?j():P(),g=[]}}),[l]);var D=e.useCallback((function(){var e=E.current.getBoundingClientRect(),t=e.width;e.height;var n=e.left,o=e.top,r=O.current.getBoundingClientRect(),i=r.width;return r.height,{x:n-r.left,y:o-r.top,scale:t/i}}),[]),k=e.useCallback((function(){C(),E.current.style.opacity="0",d&&d()}),[]),q=e.useCallback((function(){var e;e?(g=g.filter((function(t){return t.targetElement!==e})),v&&(e.ontouchstart=null,e.ontouchmove=null,h&&0===g.length&&(document.removeEventListener("touchmove",S,y?{passive:!1}:void 0),h=!1)),v?j():P()):console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices."),"go"===_.current&&(E.current.style.opacity="1",O.current.style.opacity="0"),f&&f()}),[f]);return e.useEffect((function(){if(s){var e=D(),t="go"===_.current?{from:x,to:e}:{from:e,to:x};t.from=i(i({},t.from),{},{opacity:1}),t.to=i(i({},t.to),{},{opacity:1}),L(i(i({reset:!0,onStart:k,onRest:q},t),{},{config:T}))}return function(){}}),[s,x]),c?o.default.createElement(t.a.div,{ref:O,className:"".concat(I," ").concat(p),style:A},m):B?o.default.createElement(B,{ref:O,className:p}):o.default.cloneElement(m,{ref:O,className:p})};_.propTypes={useTransitionLayoutDivContainer:p.bool,target:p.oneOfType([p.array,p.object]).isRequired,handleIsTransitionStart:p.func,handleIsTransitionOver:p.func},exports.TransitionLayout=_;
//# sourceMappingURL=index.js.map
