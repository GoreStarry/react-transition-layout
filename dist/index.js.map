{"version":3,"file":"index.js","sources":["../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/body-scroll-lock/lib/bodyScrollLock.esm.js","../node_modules/style-inject/dist/style-inject.es.js","../src/TransitionLayout/TransitionLayout.jsx"],"sourcesContent":["/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n// Older browsers don't support event options, feature detect it.\n\n// Adopted and modified solution from Bohdan Didukh (2017)\n// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi\n\nvar hasPassiveEvents = false;\nif (typeof window !== 'undefined') {\n  var passiveTestOptions = {\n    get passive() {\n      hasPassiveEvents = true;\n      return undefined;\n    }\n  };\n  window.addEventListener('testPassive', null, passiveTestOptions);\n  window.removeEventListener('testPassive', null, passiveTestOptions);\n}\n\nvar isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);\n\n\nvar locks = [];\nvar documentListenerAdded = false;\nvar initialClientY = -1;\nvar previousBodyOverflowSetting = void 0;\nvar previousBodyPosition = void 0;\nvar previousBodyPaddingRight = void 0;\n\n// returns true if `el` should be allowed to receive touchmove events.\nvar allowTouchMove = function allowTouchMove(el) {\n  return locks.some(function (lock) {\n    if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {\n      return true;\n    }\n\n    return false;\n  });\n};\n\nvar preventDefault = function preventDefault(rawEvent) {\n  var e = rawEvent || window.event;\n\n  // For the case whereby consumers adds a touchmove event listener to document.\n  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })\n  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then\n  // the touchmove event on document will break.\n  if (allowTouchMove(e.target)) {\n    return true;\n  }\n\n  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).\n  if (e.touches.length > 1) return true;\n\n  if (e.preventDefault) e.preventDefault();\n\n  return false;\n};\n\nvar setOverflowHidden = function setOverflowHidden(options) {\n  // If previousBodyPaddingRight is already set, don't set it again.\n  if (previousBodyPaddingRight === undefined) {\n    var _reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;\n    var scrollBarGap = window.innerWidth - document.documentElement.clientWidth;\n\n    if (_reserveScrollBarGap && scrollBarGap > 0) {\n      var computedBodyPaddingRight = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'), 10);\n      previousBodyPaddingRight = document.body.style.paddingRight;\n      document.body.style.paddingRight = computedBodyPaddingRight + scrollBarGap + 'px';\n    }\n  }\n\n  // If previousBodyOverflowSetting is already set, don't set it again.\n  if (previousBodyOverflowSetting === undefined) {\n    previousBodyOverflowSetting = document.body.style.overflow;\n    document.body.style.overflow = 'hidden';\n  }\n};\n\nvar restoreOverflowSetting = function restoreOverflowSetting() {\n  if (previousBodyPaddingRight !== undefined) {\n    document.body.style.paddingRight = previousBodyPaddingRight;\n\n    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it\n    // can be set again.\n    previousBodyPaddingRight = undefined;\n  }\n\n  if (previousBodyOverflowSetting !== undefined) {\n    document.body.style.overflow = previousBodyOverflowSetting;\n\n    // Restore previousBodyOverflowSetting to undefined\n    // so setOverflowHidden knows it can be set again.\n    previousBodyOverflowSetting = undefined;\n  }\n};\n\nvar setPositionFixed = function setPositionFixed() {\n  return window.requestAnimationFrame(function () {\n    // If previousBodyPosition is already set, don't set it again.\n    if (previousBodyPosition === undefined) {\n      previousBodyPosition = {\n        position: document.body.style.position,\n        top: document.body.style.top,\n        left: document.body.style.left\n      };\n\n      // Update the dom inside an animation frame \n      var _window = window,\n          scrollY = _window.scrollY,\n          scrollX = _window.scrollX,\n          innerHeight = _window.innerHeight;\n\n      document.body.style.position = 'fixed';\n      document.body.style.top = -scrollY;\n      document.body.style.left = -scrollX;\n\n      setTimeout(function () {\n        return window.requestAnimationFrame(function () {\n          // Attempt to check if the bottom bar appeared due to the position change\n          var bottomBarHeight = innerHeight - window.innerHeight;\n          if (bottomBarHeight && scrollY >= innerHeight) {\n            // Move the content further up so that the bottom bar doesn't hide it\n            document.body.style.top = -(scrollY + bottomBarHeight);\n          }\n        });\n      }, 300);\n    }\n  });\n};\n\nvar restorePositionSetting = function restorePositionSetting() {\n  if (previousBodyPosition !== undefined) {\n    // Convert the position from \"px\" to Int\n    var y = -parseInt(document.body.style.top, 10);\n    var x = -parseInt(document.body.style.left, 10);\n\n    // Restore styles\n    document.body.style.position = previousBodyPosition.position;\n    document.body.style.top = previousBodyPosition.top;\n    document.body.style.left = previousBodyPosition.left;\n\n    // Restore scroll\n    window.scrollTo(x, y);\n\n    previousBodyPosition = undefined;\n  }\n};\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions\nvar isTargetElementTotallyScrolled = function isTargetElementTotallyScrolled(targetElement) {\n  return targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;\n};\n\nvar handleScroll = function handleScroll(event, targetElement) {\n  var clientY = event.targetTouches[0].clientY - initialClientY;\n\n  if (allowTouchMove(event.target)) {\n    return false;\n  }\n\n  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {\n    // element is at the top of its scroll.\n    return preventDefault(event);\n  }\n\n  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {\n    // element is at the bottom of its scroll.\n    return preventDefault(event);\n  }\n\n  event.stopPropagation();\n  return true;\n};\n\nexport var disableBodyScroll = function disableBodyScroll(targetElement, options) {\n  // targetElement must be provided\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');\n    return;\n  }\n\n  // disableBodyScroll must not have been called on this targetElement before\n  if (locks.some(function (lock) {\n    return lock.targetElement === targetElement;\n  })) {\n    return;\n  }\n\n  var lock = {\n    targetElement: targetElement,\n    options: options || {}\n  };\n\n  locks = [].concat(_toConsumableArray(locks), [lock]);\n\n  if (isIosDevice) {\n    setPositionFixed();\n  } else {\n    setOverflowHidden(options);\n  }\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        initialClientY = event.targetTouches[0].clientY;\n      }\n    };\n    targetElement.ontouchmove = function (event) {\n      if (event.targetTouches.length === 1) {\n        // detect single touch.\n        handleScroll(event, targetElement);\n      }\n    };\n\n    if (!documentListenerAdded) {\n      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = true;\n    }\n  }\n};\n\nexport var clearAllBodyScrollLocks = function clearAllBodyScrollLocks() {\n  if (isIosDevice) {\n    // Clear all locks ontouchstart/ontouchmove handlers, and the references.\n    locks.forEach(function (lock) {\n      lock.targetElement.ontouchstart = null;\n      lock.targetElement.ontouchmove = null;\n    });\n\n    if (documentListenerAdded) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n\n    // Reset initial clientY.\n    initialClientY = -1;\n  }\n\n  if (isIosDevice) {\n    restorePositionSetting();\n  } else {\n    restoreOverflowSetting();\n  }\n\n  locks = [];\n};\n\nexport var enableBodyScroll = function enableBodyScroll(targetElement) {\n  if (!targetElement) {\n    // eslint-disable-next-line no-console\n    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');\n    return;\n  }\n\n  locks = locks.filter(function (lock) {\n    return lock.targetElement !== targetElement;\n  });\n\n  if (isIosDevice) {\n    targetElement.ontouchstart = null;\n    targetElement.ontouchmove = null;\n\n    if (documentListenerAdded && locks.length === 0) {\n      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);\n      documentListenerAdded = false;\n    }\n  }\n\n  if (isIosDevice) {\n    restorePositionSetting();\n  } else {\n    restoreOverflowSetting();\n  }\n};\n\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, {\n  useRef,\n  useMemo,\n  useState,\n  useCallback,\n  useEffect,\n} from \"react\";\nimport PropTypes from \"prop-types\";\nimport { a, useSpring, useSprings } from \"react-spring\";\nimport {\n  disableBodyScroll,\n  enableBodyScroll,\n  clearAllBodyScrollLocks,\n} from \"body-scroll-lock\";\n\nimport sty from \"./TransitionLayout.module.scss\";\n\nconst TransitionLayout = ({\n  mode,\n\n  useTransitionLayoutDivContainer = true,\n  target,\n  isTrigger,\n  handleIsTransitionStart,\n  handleIsTransitionOver,\n  className,\n  children,\n  Component,\n}) => {\n  const ref = useRef();\n  let refTarget = useRef();\n  const refMode = useRef(mode);\n  const initialSpring = useMemo(\n    () => ({\n      x: 0,\n      y: 0,\n      scale: 1,\n      transformOrigin: \"left top\",\n      opacity: mode === \"go\" ? 1 : 0,\n    }),\n    [mode]\n  );\n  const [springProps, setSpring] = useSpring(() => initialSpring, []);\n\n  useEffect(() => {\n    refMode.current = mode;\n    return () => {};\n  }, [mode]);\n\n  const MemoComponent = useMemo(\n    () => Component && React.forwardRef(Component),\n    [Component]\n  );\n\n  useEffect(() => {\n    if (target) {\n      if (typeof target === \"string\") {\n        refTarget.current = document.getElementById(target);\n      } else {\n        refTarget = target;\n      }\n    }\n\n    return () => {\n      clearAllBodyScrollLocks();\n    };\n  }, [target]);\n\n  const getPositions = useCallback(() => {\n    // console.log(refTarget.current);\n    const {\n      width: targetWidth,\n      height: targetHeight,\n      left: targetLeft,\n      top: targetTop,\n    } = refTarget.current.getBoundingClientRect();\n\n    const {\n      width: selfWidth,\n      height: selfHeight,\n      left: selfLeft,\n      top: selfTop,\n    } = ref.current.getBoundingClientRect();\n\n    return {\n      x: targetLeft - selfLeft,\n      y: targetTop - selfTop,\n      scale: targetWidth / selfWidth,\n    };\n  }, []);\n\n  const onSpringStart = useCallback(() => {\n    disableBodyScroll();\n    refTarget.current.style.opacity = \"0\";\n\n    handleIsTransitionStart && handleIsTransitionStart();\n  }, []);\n\n  const onSpringDone = useCallback(() => {\n    enableBodyScroll();\n    if (refMode.current === \"go\") {\n      refTarget.current.style.opacity = \"1\";\n      ref.current.style.opacity = \"0\";\n    }\n\n    handleIsTransitionOver && handleIsTransitionOver();\n  }, [handleIsTransitionOver]);\n\n  useEffect(() => {\n    if (isTrigger) {\n      const positions = getPositions();\n\n      // console.log(positions);\n\n      const fromTo =\n        refMode.current === \"go\"\n          ? { from: initialSpring, to: positions }\n          : { from: positions, to: initialSpring };\n\n      fromTo.from = {\n        ...fromTo.from,\n        opacity: 1,\n      };\n\n      fromTo.to = {\n        ...fromTo.to,\n        opacity: 1,\n      };\n\n      setSpring({\n        reset: true,\n        onStart: onSpringStart,\n        onRest: onSpringDone,\n        ...fromTo,\n      });\n    }\n    return () => {};\n  }, [isTrigger, initialSpring]);\n\n  return useTransitionLayoutDivContainer ? (\n    <a.div\n      ref={ref}\n      className={`${sty.TransitionLayout} ${className}`}\n      style={springProps}\n    >\n      {children}\n    </a.div>\n  ) : MemoComponent ? (\n    <MemoComponent ref={ref} className={className} />\n  ) : (\n    React.cloneElement(children, { ref, className })\n  );\n};\n\nTransitionLayout.propTypes = {\n  // mode: PropTypes.oneOf([\"go\", \"back\"]).isRequired, // storybook bug can't use oneOf\n  useTransitionLayoutDivContainer: PropTypes.bool,\n  target: PropTypes.oneOfType([PropTypes.array, PropTypes.object]).isRequired,\n  handleIsTransitionStart: PropTypes.func,\n  handleIsTransitionOver: PropTypes.func,\n};\n\nexport default TransitionLayout;\n"],"names":["emptyFunction","emptyFunctionWithReset","resetWarningCache","module","shim","props","propName","componentName","location","propFullName","secret","err","Error","name","getShim","isRequired","ReactPropTypes","array","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","require$$0","hasPassiveEvents","window","passiveTestOptions","passive","addEventListener","removeEventListener","isIosDevice","navigator","platform","test","maxTouchPoints","locks","documentListenerAdded","initialClientY","previousBodyOverflowSetting","previousBodyPosition","previousBodyPaddingRight","allowTouchMove","el","some","lock","options","preventDefault","rawEvent","e","event","target","touches","length","restoreOverflowSetting","undefined","document","body","style","paddingRight","overflow","restorePositionSetting","y","parseInt","top","x","left","position","scrollTo","disableBodyScroll","targetElement","concat","arr","Array","isArray","i","arr2","from","_toConsumableArray","requestAnimationFrame","_window","scrollY","scrollX","innerHeight","setTimeout","bottomBarHeight","_reserveScrollBarGap","reserveScrollBarGap","scrollBarGap","innerWidth","documentElement","clientWidth","computedBodyPaddingRight","getComputedStyle","getPropertyValue","setOverflowHidden","ontouchstart","targetTouches","clientY","ontouchmove","scrollTop","scrollHeight","clientHeight","isTargetElementTotallyScrolled","stopPropagation","handleScroll","console","error","css","ref","insertAt","head","getElementsByTagName","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","TransitionLayout","mode","useTransitionLayoutDivContainer","isTrigger","handleIsTransitionStart","handleIsTransitionOver","className","children","Component","useRef","refTarget","refMode","initialSpring","useMemo","scale","transformOrigin","opacity","useSpring","springProps","setSpring","useEffect","current","MemoComponent","React","forwardRef","getElementById","forEach","getPositions","useCallback","getBoundingClientRect","targetWidth","width","height","targetLeft","targetTop","selfWidth","onSpringStart","onSpringDone","filter","positions","fromTo","to","reset","onStart","onRest","a","div","sty","cloneElement","propTypes"],"mappings":"+0DAWA,SAASA,KACT,SAASC,KACTA,EAAuBC,kBAAoBF,EAE3C,uBCEEG,UDFe,WACf,SAASC,EAAKC,EAAOC,EAAUC,EAAeC,EAAUC,EAAcC,GACpE,GERuB,iDFQnBA,EAAJ,CAIA,IAAIC,EAAM,IAAIC,MACZ,mLAKF,MADAD,EAAIE,KAAO,sBACLF,GAGR,SAASG,IACP,OAAOV,EAFTA,EAAKW,WAAaX,EAMlB,IAAIY,EAAiB,CACnBC,MAAOb,EACPc,KAAMd,EACNe,KAAMf,EACNgB,OAAQhB,EACRiB,OAAQjB,EACRkB,OAAQlB,EACRmB,OAAQnB,EAERoB,IAAKpB,EACLqB,QAASX,EACTY,QAAStB,EACTuB,YAAavB,EACbwB,WAAYd,EACZe,KAAMzB,EACN0B,SAAUhB,EACViB,MAAOjB,EACPkB,UAAWlB,EACXmB,MAAOnB,EACPoB,MAAOpB,EAEPqB,eAAgBlC,EAChBC,kBAAmBF,GAKrB,OAFAgB,EAAeoB,UAAYpB,EAEpBA,EC7CUqB,sMEVnB,IAAIC,GAAmB,EACvB,GAAsB,oBAAXC,OAAwB,CACjC,IAAIC,EAAqB,CACvBC,cACEH,GAAmB,IAIvBC,OAAOG,iBAAiB,cAAe,KAAMF,GAC7CD,OAAOI,oBAAoB,cAAe,KAAMH,GAGlD,IAAII,EAAgC,oBAAXL,QAA0BA,OAAOM,WAAaN,OAAOM,UAAUC,WAAa,iBAAiBC,KAAKR,OAAOM,UAAUC,WAA2C,aAA9BP,OAAOM,UAAUC,UAA2BP,OAAOM,UAAUG,eAAiB,GAGnOC,EAAQ,GACRC,GAAwB,EACxBC,GAAkB,EAClBC,OAA8B,EAC9BC,OAAuB,EACvBC,OAA2B,EAG3BC,EAAiB,SAAwBC,GAC3C,OAAOP,EAAMQ,MAAK,SAAUC,GAC1B,SAAIA,EAAKC,QAAQJ,iBAAkBG,EAAKC,QAAQJ,eAAeC,QAQ/DI,EAAiB,SAAwBC,GAC3C,IAAIC,EAAID,GAAYtB,OAAOwB,MAM3B,QAAIR,EAAeO,EAAEE,UAKjBF,EAAEG,QAAQC,OAAS,IAEnBJ,EAAEF,gBAAgBE,EAAEF,kBAEjB,KAuBLO,EAAyB,gBACMC,IAA7Bd,IACFe,SAASC,KAAKC,MAAMC,aAAelB,EAInCA,OAA2Bc,QAGOA,IAAhChB,IACFiB,SAASC,KAAKC,MAAME,SAAWrB,EAI/BA,OAA8BgB,IAsC9BM,EAAyB,WAC3B,QAA6BN,IAAzBf,EAAoC,CAEtC,IAAIsB,GAAKC,SAASP,SAASC,KAAKC,MAAMM,IAAK,IACvCC,GAAKF,SAASP,SAASC,KAAKC,MAAMQ,KAAM,IAG5CV,SAASC,KAAKC,MAAMS,SAAW3B,EAAqB2B,SACpDX,SAASC,KAAKC,MAAMM,IAAMxB,EAAqBwB,IAC/CR,SAASC,KAAKC,MAAMQ,KAAO1B,EAAqB0B,KAGhDxC,OAAO0C,SAASH,EAAGH,GAEnBtB,OAAuBe,IA8BhBc,EAAoB,SAA2BC,EAAexB,GAEvE,GAAKwB,GAOL,IAAIlC,EAAMQ,MAAK,SAAUC,GACvB,OAAOA,EAAKyB,gBAAkBA,KADhC,CAMA,IAAIzB,EAAO,CACTyB,cAAeA,EACfxB,QAASA,GAAW,IAGtBV,EAAQ,GAAGmC,OAnMb,SAA4BC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIG,EAAI,EAAGC,EAAOH,MAAMD,EAAInB,QAASsB,EAAIH,EAAInB,OAAQsB,IAAOC,EAAKD,GAAKH,EAAIG,GAAM,OAAOC,EAAe,OAAOH,MAAMI,KAAKL,GAmMtKM,CAAmB1C,GAAQ,CAACS,IAE1Cd,EAnGGL,OAAOqD,uBAAsB,WAElC,QAA6BxB,IAAzBf,EAAoC,CACtCA,EAAuB,CACrB2B,SAAUX,SAASC,KAAKC,MAAMS,SAC9BH,IAAKR,SAASC,KAAKC,MAAMM,IACzBE,KAAMV,SAASC,KAAKC,MAAMQ,MAI5B,IAAIc,EAAUtD,OACVuD,EAAUD,EAAQC,QAClBC,EAAUF,EAAQE,QAClBC,EAAcH,EAAQG,YAE1B3B,SAASC,KAAKC,MAAMS,SAAW,QAC/BX,SAASC,KAAKC,MAAMM,KAAOiB,EAC3BzB,SAASC,KAAKC,MAAMQ,MAAQgB,EAE5BE,YAAW,WACT,OAAO1D,OAAOqD,uBAAsB,WAElC,IAAIM,EAAkBF,EAAczD,OAAOyD,YACvCE,GAAmBJ,GAAWE,IAEhC3B,SAASC,KAAKC,MAAMM,MAAQiB,EAAUI,SAGzC,SAnEe,SAA2BvC,GAEjD,QAAiCS,IAA7Bd,EAAwC,CAC1C,IAAI6C,IAAyBxC,IAA2C,IAAhCA,EAAQyC,oBAC5CC,EAAe9D,OAAO+D,WAAajC,SAASkC,gBAAgBC,YAEhE,GAAIL,GAAwBE,EAAe,EAAG,CAC5C,IAAII,EAA2B7B,SAASrC,OAAOmE,iBAAiBrC,SAASC,MAAMqC,iBAAiB,iBAAkB,IAClHrD,EAA2Be,SAASC,KAAKC,MAAMC,aAC/CH,SAASC,KAAKC,MAAMC,aAAeiC,EAA2BJ,EAAe,WAK7CjC,IAAhChB,IACFA,EAA8BiB,SAASC,KAAKC,MAAME,SAClDJ,SAASC,KAAKC,MAAME,SAAW,UA6H/BmC,CAAkBjD,GAGhBf,IACFuC,EAAc0B,aAAe,SAAU9C,GACF,IAA/BA,EAAM+C,cAAc5C,SAEtBf,EAAiBY,EAAM+C,cAAc,GAAGC,UAG5C5B,EAAc6B,YAAc,SAAUjD,GACD,IAA/BA,EAAM+C,cAAc5C,QAzDX,SAAsBH,EAAOoB,GAC9C,IAAI4B,EAAUhD,EAAM+C,cAAc,GAAGC,QAAU5D,GAE3CI,EAAeQ,EAAMC,UAIrBmB,GAA6C,IAA5BA,EAAc8B,WAAmBF,EAAU,GAX7B,SAAwC5B,GAC3E,QAAOA,GAAgBA,EAAc+B,aAAe/B,EAAc8B,WAAa9B,EAAcgC,aAezFC,CAA+BjC,IAAkB4B,EAAU,EAHtDnD,EAAeG,GAQxBA,EAAMsD,mBA0CAC,CAAavD,EAAOoB,IAInBjC,IACHmB,SAAS3B,iBAAiB,YAAakB,EAAgBtB,EAAmB,CAAEG,SAAS,QAAU2B,GAC/FlB,GAAwB,UAxC1BqE,QAAQC,MAAM,4KCnLlB,SAAqBC,EAAKC,QACX,IAARA,IAAiBA,EAAM,IAC5B,IAAIC,EAAWD,EAAIC,SAEnB,GAAKF,GAA2B,oBAAbpD,SAAnB,CAEA,IAAIuD,EAAOvD,SAASuD,MAAQvD,SAASwD,qBAAqB,QAAQ,GAC9DtD,EAAQF,SAASyD,cAAc,SACnCvD,EAAMwD,KAAO,WAEI,QAAbJ,GACEC,EAAKI,WACPJ,EAAKK,aAAa1D,EAAOqD,EAAKI,YAKhCJ,EAAKM,YAAY3D,GAGfA,EAAM4D,WACR5D,EAAM4D,WAAWC,QAAUX,EAE3BlD,EAAM2D,YAAY7D,SAASgE,eAAeZ,6FCNxCa,EAAmB,gBACvBC,IAAAA,SAEAC,gCAAAA,gBACAxE,IAAAA,OACAyE,IAAAA,UACAC,IAAAA,wBACAC,IAAAA,uBACAC,IAAAA,UACAC,IAAAA,SACAC,IAAAA,UAEMpB,EAAMqB,WACRC,EAAYD,WACVE,EAAUF,SAAOR,GACjBW,EAAgBC,WACpB,iBAAO,CACLrE,EAAG,EACHH,EAAG,EACHyE,MAAO,EACPC,gBAAiB,WACjBC,QAAkB,OAATf,EAAgB,EAAI,KAE/B,CAACA,QAE8BgB,aAAU,kBAAML,IAAe,OAAzDM,OAAaC,OAEpBC,aAAU,kBACRT,EAAQU,QAAUpB,EACX,eACN,CAACA,QAEEqB,EAAgBT,WACpB,kBAAML,GAAae,UAAMC,WAAWhB,KACpC,CAACA,IAGHY,aAAU,kBACJ1F,IACoB,iBAAXA,EACTgF,EAAUW,QAAUtF,SAAS0F,eAAe/F,GAE5CgF,EAAYhF,GAIT,WFkKLpB,IAEFK,EAAM+G,SAAQ,SAAUtG,GACtBA,EAAKyB,cAAc0B,aAAe,KAClCnD,EAAKyB,cAAc6B,YAAc,QAG/B9D,IACFmB,SAAS1B,oBAAoB,YAAaiB,EAAgBtB,EAAmB,CAAEG,SAAS,QAAU2B,GAClGlB,GAAwB,GAI1BC,GAAkB,GAGhBP,EACF8B,IAEAP,IAGFlB,EAAQ,MErLL,CAACe,QAEEiG,EAAeC,eAAY,iBAO3BlB,EAAUW,QAAQQ,wBAJbC,IAAPC,QACAC,WACMC,IAANxF,KACKyF,IAAL3F,MAQE6C,EAAIiC,QAAQQ,wBAJPM,IAAPJ,eACAC,OAKK,CACLxF,EAAGyF,IALHxF,KAMAJ,EAAG6F,IALH3F,IAMAuE,MAAOgB,EAAcK,KAEtB,IAEGC,EAAgBR,eAAY,WAChChF,IACA8D,EAAUW,QAAQpF,MAAM+E,QAAU,IAElCZ,GAA2BA,MAC1B,IAEGiC,EAAeT,eAAY,WFwJL,IAA0B/E,EACjDA,GAMLlC,EAAQA,EAAM2H,QAAO,SAAUlH,GAC7B,OAAOA,EAAKyB,gBAAkBA,KAG5BvC,IACFuC,EAAc0B,aAAe,KAC7B1B,EAAc6B,YAAc,KAExB9D,GAA0C,IAAjBD,EAAMiB,SACjCG,SAAS1B,oBAAoB,YAAaiB,EAAgBtB,EAAmB,CAAEG,SAAS,QAAU2B,GAClGlB,GAAwB,IAIxBN,EACF8B,IAEAP,KArBAoD,QAAQC,MAAM,gHEzJU,OAApByB,EAAQU,UACVX,EAAUW,QAAQpF,MAAM+E,QAAU,IAClC5B,EAAIiC,QAAQpF,MAAM+E,QAAU,KAG9BX,GAA0BA,MACzB,CAACA,WAEJe,aAAU,cACJjB,EAAW,KACPoC,EAAYZ,IAIZa,EACgB,OAApB7B,EAAQU,QACJ,CAAEjE,KAAMwD,EAAe6B,GAAIF,GAC3B,CAAEnF,KAAMmF,EAAWE,GAAI7B,GAE7B4B,EAAOpF,YACFoF,EAAOpF,UACV4D,QAAS,IAGXwB,EAAOC,UACFD,EAAOC,QACVzB,QAAS,IAGXG,KACEuB,OAAO,EACPC,QAASP,EACTQ,OAAQP,GACLG,WAGA,eACN,CAACrC,EAAWS,IAERV,EACLqB,wBAACsB,IAAEC,KACD1D,IAAKA,EACLkB,oBAAcyC,cAAwBzC,GACtCrE,MAAOiF,GAENX,GAEDe,EACFC,wBAACD,GAAclC,IAAKA,EAAKkB,UAAWA,IAEpCiB,UAAMyB,aAAazC,EAAU,CAAEnB,IAAAA,EAAKkB,UAAAA,KAIxCN,EAAiBiD,UAAY,CAE3B/C,gCAAiCpG,EAAUlB,KAC3C8C,OAAQ5B,EAAUJ,UAAU,CAACI,EAAUnB,MAAOmB,EAAUf,SAASN,WACjE2H,wBAAyBtG,EAAUjB,KACnCwH,uBAAwBvG,EAAUjB"}